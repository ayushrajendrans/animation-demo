/*! For license information please see face-needles.min.js.LICENSE.txt */
var _interactive_gallery_face_needles;this.IG=this.IG||{},(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.r(t),e.d(t,{Needles:()=>s}),IG;const n=IG.vendors,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t.renderer,this.scene=new n.Three.Scene,this.texture=this.renderer.renderTarget.texture,this._setElements(t.gallery)}var t,s,i;return t=e,i=[{key:"NAME",get:function(){return"needles"}}],(s=[{key:"name",get:function(){return e.NAME}},{key:"update",value:function(){var e=this.elements,t=(0,n.getCurrentTime)(),r=t.hoursRotation,s=t.minutesRotation,i=t.secondsRotation;e.needleHours&&(e.needleHours.mesh.rotation.z=r),e.needleMinutes&&(e.needleMinutes.mesh.rotation.z=s),e.needleSeconds&&(e.needleSeconds.mesh.rotation.z=i),this.renderer.render(this.scene)}},{key:"_setElements",value:function(e){this.elements={};for(var t=1024,r=0,s=0,i=[{name:"layer0",type:"texture",width:t,height:1024,texture:"needlesLayer0Texture",x:0,y:0,offsetX:0,offsetY:0},{name:"needleHours",type:"texture",width:212,height:770,texture:"needlesHoursTexture",x:0,y:0,offsetX:0,offsetY:.26},{name:"needleMinutes",type:"texture",width:212,height:770,texture:"needlesMinutesTexture",x:0,y:0,offsetX:0,offsetY:.26},{name:"needleSeconds",type:"texture",width:212,height:770,texture:"needlesSecondsTexture",x:0,y:0,offsetX:0,offsetY:.26}];s<i.length;s++){var o=i[s],a={};if(a.type=o.type,"texture"===a.type?(a.texture=e.resources.items[o.texture],a.texture.encoding=n.Three.sRGBEncoding):"video"===a.type&&(a.texture=this.illustrations.current.videoTexture),void 0===o.width&&(o.width=a.texture.image.width),void 0===o.height&&(o.height=a.texture.image.height),o.offsetXBeforeRef){var f=e.resources.items[o.offsetXBeforeRef].image.width;o.offsetX=-f/t-.035}if(o.offsetXAfterRef){var l=e.resources.items[o.offsetXAfterRef].image.width;o.offsetX=l/t+.035}a.geometry=new n.Three.PlaneGeometry(o.width/t*2,o.height/1024*2),0===o.offsetX&&0===o.offsetY||a.geometry.translate(o.offsetX,o.offsetY,0);var u=o.MaterialClass?o.MaterialClass:n.Three.MeshBasicMaterial;a.material=new u({map:a.texture,transparent:!0,toneMapped:!1}),a.mesh=new n.Three.Mesh(a.geometry,a.material),a.mesh.position.x=o.x,a.mesh.position.y=o.y,a.mesh.position.z=r,this.scene.add(a.mesh),this.elements[o.name]=a,r++}}}])&&r(t.prototype,s),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();_interactive_gallery_face_needles=t})(),Object.assign(this.IG,_interactive_gallery_face_needles);