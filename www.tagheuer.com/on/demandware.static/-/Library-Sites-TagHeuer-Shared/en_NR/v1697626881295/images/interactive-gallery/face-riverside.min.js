/*! For license information please see face-riverside.min.js.LICENSE.txt */
var _interactive_gallery_face_riverside;this.IG=this.IG||{},(()=>{"use strict";var e={d:(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.r(t),e.d(t,{RiversideFace:()=>o}),IG;const i=IG.vendors;function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}const o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t.renderer;var r=t.gallery.resources;this.videoSupported=!0,this.scene=new i.Three.Scene,this.texture=this.renderer.renderTarget.texture,this._setIllus(r,t.videos),this._setElements(r)}var t,o,s;return t=e,s=[{key:"NAME",get:function(){return"riverside"}}],(o=[{key:"name",get:function(){return e.NAME}},{key:"update",value:function(){var e=this.elements,t=(0,i.getCurrentTime)(),r=t.hoursRotation,n=t.minutesRotation;e.needleHours&&(e.needleHours.mesh.rotation.z=r),e.needleMinutes&&(e.needleMinutes.mesh.rotation.z=n),this.renderer.render(this.scene)}},{key:"_setIllus",value:function(e,t){var r=this;this.illustrations={},this.illustrations.items=[{name:"0",videoSrc:t.riversideFace0,staticTexture:e.items.riversideFace0Texture}];var o,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw s}}}}(this.illustrations.items);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.videoSrc?(a.$video=(0,i.createEl)("video",null,null,null,{src:a.videoSrc,loop:!0,autoplay:!1,muted:!0,playsinline:"playsinline"}),a.videoTexture=new i.Three.VideoTexture(a.$video),a.videoTexture.minFilter=i.Three.NearestFilter,a.videoTexture.magFilter=i.Three.NearestFilter,a.videoTexture.generateMipmaps=!1,a.videoTexture.encoding=i.Three.sRGBEncoding,a.hasVideo=!0):a.hasVideo=!1,a.staticTexture.encoding=i.Three.sRGBEncoding}}catch(e){s.e(e)}finally{s.f()}this.illustrations.current=this.illustrations.items[0],this.illustrations.current.hasVideo&&i.gsap.delayedCall(1,(function(){r.illustrations.current.hasVideo&&(r.illustrations.current.$video.currentTime=0,r.illustrations.current.$video.play().catch((function(){r.videoSupported=!1,r.elements.illustration.material.map=r.illustrations.current.staticTexture})))}))}},{key:"_setElements",value:function(e){this.elements={};for(var t=1024,r=1024,n=0,o=0,s=[{name:"illustration",type:"video",width:t,height:r,x:0,y:0,offsetX:0,offsetY:0},{name:"dial",type:"texture",width:t,height:r,texture:"riversideDialTexture",x:0,y:0,offsetX:0,offsetY:0},{name:"dayLetter",type:"texture",width:t,height:r,texture:"riversideDayLetterTexture",x:0,y:0,offsetX:0,offsetY:0},{name:"dayNumber",type:"texture",width:t,height:r,texture:"riversideDayNumberTexture",x:0,y:0,offsetX:0,offsetY:0},{name:"needleHours",type:"texture",width:128,height:270,texture:"riversideHoursTexture",x:.475,y:0,offsetX:0,offsetY:.122},{name:"needleMinutes",type:"texture",width:128,height:365,texture:"riversideMinutesTexture",x:.475,y:0,offsetX:0,offsetY:.195}];o<s.length;o++){var a=s[o],u={};u.type=a.type,"texture"===u.type?(u.texture=e.items[a.texture],u.texture.encoding=i.Three.sRGBEncoding):"video"===u.type&&(u.texture=this.illustrations.current.videoTexture),u.geometry=new i.Three.PlaneGeometry(a.width/t*2,a.height/r*2),0===a.offsetX&&0===a.offsetY||u.geometry.translate(a.offsetX,a.offsetY,0);var l=a.MaterialClass?a.MaterialClass:i.Three.MeshBasicMaterial;u.material=new l({map:u.texture,transparent:!0,toneMapped:!1}),u.mesh=new i.Three.Mesh(u.geometry,u.material),u.mesh.position.x=a.x,u.mesh.position.y=a.y,u.mesh.position.z=n,this.scene.add(u.mesh),this.elements[a.name]=u,n++}}}])&&r(t.prototype,o),s&&r(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();_interactive_gallery_face_riverside=t})(),Object.assign(this.IG,_interactive_gallery_face_riverside);